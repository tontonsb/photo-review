import{V as c,M as u,T as g,X as w,b as p,a as y,f as d,G as m,N as f,a2 as E,R as x}from"./XYZ-sykNy2Li.js";const S=t=>new f({text:new E({font:"15px sans-serif",text:t.get("conclusion")+(t.get("status")??""),backgroundFill:new x({color:"#fff9"}),padding:[3,0,1,2]})});function v(t,l){const a=new c,e=new u({target:t,layers:[new g({source:new w({attributions:["Powered by Esri","Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"],url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:20})}),new p({source:a,style:S})],view:new y({center:d([23.54238,56.87841]),zoom:12})}),o=(t instanceof HTMLElement?t:document.getElementById(t)).querySelector("#tooltip");return a.addFeatures(new m().readFeatures(l,{dataProjection:"EPSG:4326",featureProjection:e.getView().getProjection()})),e.on("click",function(r){const n=e.getEventPixel(r.originalEvent);e.forEachFeatureAtPixel(n,i=>{window.open(i.get("url"))})}),e.on("pointermove",function(r){if(r.dragging)return;e.getTargetElement().style.cursor="",o.style.visibility="hidden";const n=e.getEventPixel(r.originalEvent),i=[];e.forEachFeatureAtPixel(n,s=>{e.getTargetElement().style.cursor="pointer",i.push((s.get("conclusion")??" ")+(s.get("status")??" ")+s.get("id"))}),i.length&&(o.style.left=n[0]+"px",o.style.top=n[1]+"px",o.style.visibility="visible",o.innerText=i.join(", "))}),e}window.showReviewMap=v;
