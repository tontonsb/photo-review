import{V as c,M as u,T as g,X as w,b as y,a as p,f as m,G as E,N as d,a2 as x}from"./XYZ-sykNy2Li.js";const S=t=>new d({text:new x({font:"14px sans-serif",text:t.get("conclusion")+(t.get("status")??"")})});function f(t,l){const a=new c,e=new u({target:t,layers:[new g({source:new w({attributions:["Powered by Esri","Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"],url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:20})}),new y({source:a,style:S})],view:new p({center:m([23.54238,56.87841]),zoom:12})}),o=(t instanceof HTMLElement?t:document.getElementById(t)).querySelector("#tooltip");return a.addFeatures(new E().readFeatures(l,{dataProjection:"EPSG:4326",featureProjection:e.getView().getProjection()})),e.on("click",function(r){const n=e.getEventPixel(r.originalEvent);e.forEachFeatureAtPixel(n,i=>{window.open(i.get("url"))})}),e.on("pointermove",function(r){if(r.dragging)return;e.getTargetElement().style.cursor="",o.style.visibility="hidden";const n=e.getEventPixel(r.originalEvent),i=[];e.forEachFeatureAtPixel(n,s=>{e.getTargetElement().style.cursor="pointer",i.push((s.get("conclusion")??" ")+(s.get("status")??" ")+s.get("id"))}),i.length&&(o.style.left=n[0]+"px",o.style.top=n[1]+"px",o.style.visibility="visible",o.innerText=i.join(", "))}),e}window.showReviewMap=f;
